$gutter: 15;

// Columns placeholder to shorten css
%column {
    margin-left: #{$gutter}px;
    margin-right: #{$gutter}px;
    position: relative;
    width: 100%;
}

.container {
    max-width: 1240px;
    margin: 0 auto;
    padding: 0 #{$gutter}px;
    position: relative;
}

.row {
    margin: 0 -#{$gutter}px;
    flex-wrap: wrap;
    display: flex;
}

// Simple col definition
.col {
    flex: 1;
    margin: 0 #{$gutter}px;
}

@for $i from 1 through 12 {
    .col-#{$i} {
        @extend %column;
    }

    .col-#{$i} {
        flex: 0 1 calc(#{percentage($i/12)} - #{$gutter * 2}px);
        max-width: calc(#{percentage($i/12)} - #{$gutter * 2}px);
    }
}

// Separate iteration to use @extend directive outside
// media queries
@each $name, $size in $sizes {
    @if($name != 'base') {
        @for $i from 1 through 12 {
            .#{$name}\:col-#{$i} {
                @extend %column;
            }
        }
    }
}

@include sizing($withbase: false) {
    $prefix: getCurrentPrefix();
    @for $i from 1 through 12 {
        #{$prefix}col-#{$i} {
            flex: 0 1 calc(#{percentage($i/12)} - #{$gutter * 2}px);
            max-width: calc(#{percentage($i/12)} - #{$gutter * 2}px);
        }
    }
}